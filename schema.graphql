type Query {
  hello: String!
  videoClips(filterCharacter: String, filterShow: String, sortBy: String, limit: Int = 12, offset: Int = 0, searchQuery: String): [VideoClip!]!
  videoClip(id: String!): VideoClip
  myVideoClips: [VideoClip!]!
  availableShows: [ShowWithCount!]!
  availableCharacters: [CharacterWithCount!]!
}

type VideoClip {
  id: ID!
  name: String!
  description: String
  userId: String!
  userEmail: String!
  s3Key: String
  videoUrl: String
  shareUrl: String
  script: String
  duration: Float
  characters: [String!]
  tags: [String!]
  thumbnailUrl: String
  blurhash: String
  source: VideoClipSource
  createdAt: String!
  updatedAt: String
  updatedBy: String
}

union VideoClipSource = ShowSource | MovieSource

type ShowSource {
  title: String!
  airDate: String
  season: Int
  episode: Int
  start: Float
  end: Float
}

type MovieSource {
  title: String!
  releaseDate: String
  start: Float
  end: Float
}

type ShowWithCount {
  name: String!
  count: Int!
}

type CharacterWithCount {
  name: String!
  count: Int!
}

type Mutation {
  createVideoClip(input: CreateVideoClipInput!): VideoClip!
  updateVideoClip(input: UpdateVideoClipInput!): VideoClip!
  generateUploadUrl(thumbnailContentType: String, thumbnailFileName: String, contentType: String!, fileName: String!): PresignedUrlResponse!
}

input CreateVideoClipInput {
  name: String!
  description: String
  s3Key: String
  videoUrl: String
  script: String
  duration: Float
  characters: [String!]
  tags: [String!]
  thumbnailUrl: String
  blurhash: String
  source: VideoClipSourceInput
}

input VideoClipSourceInput {
  show: ShowSourceInput
  movie: MovieSourceInput
}

input ShowSourceInput {
  title: String!
  airDate: String
  season: Int
  episode: Int
  start: Float
  end: Float
}

input MovieSourceInput {
  title: String!
  releaseDate: String
  start: Float
  end: Float
}

input UpdateVideoClipInput {
  id: String!
  description: String
  shareUrl: String
  script: String
  duration: Float
  characters: [String!]
  tags: [String!]
  source: VideoClipSourceInput
}

type PresignedUrlResponse {
  uploadUrl: String!
  s3Key: String!
  videoUrl: String!
  thumbnailUploadUrl: String
  thumbnailS3Key: String
  thumbnailUrl: String
}